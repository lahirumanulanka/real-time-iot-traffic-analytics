# Environment configuration for IoT traffic analytics
# Used by producer/consumer Python apps (loaded via python-dotenv)

# Kafka
KAFKA_BOOTSTRAP_SERVERS=localhost:9094
RAW_TOPIC=traffic.raw
PROCESSED_TOPIC=traffic.processed
METRICS_TOPIC=traffic.metrics

# PostgreSQL (from host-run Python apps)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=traffic
POSTGRES_USER=analytics
POSTGRES_PASSWORD=analytics

# Misc
PYTHONUNBUFFERED=1
LOG_LEVEL=INFO

# Streaming pace and batch size
# Note: Adjust these for quick verification; increase delay for realistic pacing.
STREAM_DELAY_MS=20
# Optional: set a cap of rows to stream during tests (0 = no limit)
MAX_RECORDS=120

# Consumer runtime controls (optional)
# Stop the consumer after N messages to make test runs deterministic
CONSUMER_MAX_MESSAGES=120
# Persist processed aggregates to Postgres when enabled
PERSIST_TO_DB=1

# Optional S3/MinIO archival
# Example for MinIO (adjust endpoint and credentials via AWS envs):
# S3_ENDPOINT=http://localhost:9000
# AWS_ACCESS_KEY_ID=minio
# AWS_SECRET_ACCESS_KEY=minio123
# S3_BUCKET=traffic-analytics
# S3_PREFIX=traffic/metrics
# ARCHIVE_TO_S3=1
